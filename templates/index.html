{% extends "base.html" %}

{% block content %}
<div class="main-content">
    <div class="upload-section">
        <div class="upload-card">
            <div class="upload-icon">üì∏</div>
            <h2>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ —Å –ª–∏—Ü–æ–º</h2>
            <p>–ò–ò –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à—É –∫–æ–∂—É –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —Ü–≤–µ—Ç–æ—Ç–∏–ø</p>
            
            <form action="/analyze" method="post" enctype="multipart/form-data" class="upload-form" id="uploadForm">
                <div class="file-input-wrapper">
                    <input type="file" id="photo" name="photo" accept="image/*" required>
                    <label for="photo" class="file-input-label" id="fileInputLabel">
                        <span class="file-input-text" id="fileInputText">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª</span>
                        <span class="file-input-button">–û–±–∑–æ—Ä</span>
                    </label>
                </div>
                
                <!-- –ë–ª–æ–∫ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ -->
                <div class="file-name-display" id="fileNameDisplay">
                    –í—ã–±—Ä–∞–Ω —Ñ–∞–π–ª: <span id="fileName"></span>
                </div>
                
                <button type="submit" class="analyze-button">
                    –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
                </button>
            </form>
            
            <div class="tips">
                <h3>üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:</h3>
                <ul>
                    <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ç–æ —Å —á–µ—Ç–∫–∏–º –≤–∏–¥–æ–º –ª–∏—Ü–∞</li>
                    <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–∏—Ü–æ —Ö–æ—Ä–æ—à–æ –æ—Å–≤–µ—â–µ–Ω–æ</li>
                    <li>–ò–∑–±–µ–≥–∞–π—Ç–µ —Ñ–æ—Ç–æ –≤ —Ç–µ–º–Ω—ã—Ö –æ—á–∫–∞—Ö</li>
                    <li>–õ—É—á—à–µ –±–µ–∑ —è—Ä–∫–æ–≥–æ –º–∞–∫–∏—è–∂–∞</li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="info-section">
        <h2>üé® –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ü–≤–µ—Ç–æ—Ç–∏–ø—ã</h2>
        <div class="color-types-grid">
            <div class="color-type-card winter">
                <h3>‚ùÑÔ∏è –ó–ò–ú–ê</h3>
                <p>–•–æ–ª–æ–¥–Ω—ã–µ, —è—Ä–∫–∏–µ, –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–µ —Ç–æ–Ω–∞</p>
            </div>
            <div class="color-type-card spring">
                <h3>üåº –í–ï–°–ù–ê</h3>
                <p>–¢–µ–ø–ª—ã–µ, —è—Ä–∫–∏–µ, —Å–≤–µ–∂–∏–µ —Ç–æ–Ω–∞</p>
            </div>
            <div class="color-type-card summer">
                <h3>üå∏ –õ–ï–¢–û</h3>
                <p>–•–æ–ª–æ–¥–Ω—ã–µ, –ø—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–µ, –º—è–≥–∫–∏–µ —Ç–æ–Ω–∞</p>
            </div>
            <div class="color-type-card autumn">
                <h3>üçÅ –û–°–ï–ù–¨</h3>
                <p>–¢–µ–ø–ª—ã–µ, –ø—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–µ, –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ —Ç–æ–Ω–∞</p>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const fileInput = document.getElementById('photo');
    const fileInputLabel = document.getElementById('fileInputLabel');
    const fileInputText = document.getElementById('fileInputText');
    const fileNameDisplay = document.getElementById('fileNameDisplay');
    const fileNameSpan = document.getElementById('fileName');
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞
    fileInput.addEventListener('change', function() {
        if (this.files && this.files[0]) {
            const fileName = this.files[0].name;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
            fileInputText.textContent = fileName;
            fileNameSpan.textContent = fileName;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞
            fileInputLabel.classList.add('has-file');
            fileNameDisplay.style.display = 'block';
            
            console.log('‚úÖ –§–∞–π–ª –≤—ã–±—Ä–∞–Ω:', fileName);
        } else {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω
            fileInputText.textContent = '–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª';
            fileInputLabel.classList.remove('has-file');
            fileNameDisplay.style.display = 'none';
        }
    });
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
    document.getElementById('uploadForm').addEventListener('submit', function(e) {
        if (!fileInput.files || !fileInput.files[0]) {
            e.preventDefault();
            alert('‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª!');
            return;
        }
        console.log('üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã —Å —Ñ–∞–π–ª–æ–º:', fileInput.files[0].name);
    });
});
</script>
{% endblock %}